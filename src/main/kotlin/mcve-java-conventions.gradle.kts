plugins {
    java
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(17))
    }
}

tasks.compileJava {
    options.encoding = "UTF-8"
}

tasks.jar {
    enabled = true
}

tasks.test {
    useJUnitPlatform()
    // Fail the 'test' task on the first test failure
    failFast = true
}

val libs = extensions.getByType<VersionCatalogsExtension>().named("libs")

dependencies {
    libs.findLibrary("jetbrains-annotations").ifPresent {
        implementation(it)
    }
}
